<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Watchlist</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container py-5">
    <h2 class="mb-4">My Watchlist</h2>
    <div id="watchlist" class="row"></div>
  </div>
 <script>
  async function loadWatchlist() {
    const response = await fetch('api/watchlist.php');
    const data = await response.json();
    const watchlist = document.getElementById('watchlist');
    watchlist.innerHTML = '';
    if (data.status === 'success' && data.watchlist) {
      data.watchlist.forEach(movie => {
        const col = document.createElement('div');
        col.className = 'col-md-4 mb-3';
        col.innerHTML = `
          <div class="card">
            <img src="${movie.poster}" class="card-img-top" alt="${movie.title}">
            <div class="card-body">
              <h5 class="card-title">${movie.title}</h5>
              <a href="details.html?id=${movie.id}" class="btn btn-primary">View Details</a>
            </div>
          </div>
        `;
        watchlist.appendChild(col);
      });
    } else {
      watchlist.innerHTML = '<p>No movies in your watchlist.</p>';
    }
  }

  // Call function on page load
  loadWatchlist();
</script>

    